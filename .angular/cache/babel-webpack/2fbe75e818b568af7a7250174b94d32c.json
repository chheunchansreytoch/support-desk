{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl, Validators } from '@angular/forms';\nlet CreateAgentsDialogComponent = class CreateAgentsDialogComponent {\n  constructor(agentDepartmentStore, agentStore, manager, formBuilder) {\n    this.agentDepartmentStore = agentDepartmentStore;\n    this.agentStore = agentStore;\n    this.manager = manager;\n    this.formBuilder = formBuilder;\n    this.SelectGender = '';\n    this.arrAgents = [];\n    this.arrAgentDepartments = []; // public genders = Genders;\n\n    this.genders = ['Male', 'Female'];\n    this.registrationForm = formBuilder.group({\n      username: new FormControl('', Validators.required),\n      email: new FormControl('', [Validators.required, Validators.email]),\n      password: new FormControl('', Validators.required),\n      confirmPassword: new FormControl('', Validators.required),\n      department: new FormControl('', Validators.required),\n      gender: new FormControl('', Validators.required)\n    }, {\n      validators: ConfirmedValidator('password', 'confirmPassword')\n    });\n  }\n\n  fetchAgentDepartments() {\n    this.agentDepartmentStore.getAgentDepartments().subscribe(res => {\n      this.arrAgentDepartments = res;\n      console.log(this.arrAgentDepartments);\n    });\n  }\n\n  btnSubmitClicked() {}\n\n  formSubmitted(formData) {\n    if (this.registrationForm.valid) {\n      const {\n        department,\n        gender\n      } = formData;\n      this.agentStore.addAgent(Object.assign(Object.assign({}, formData), {\n        department: {\n          id: department\n        },\n        gender: formData.gender\n      })).subscribe(res => {\n        this.arrAgents.push(res);\n        this.registrationForm.reset();\n      });\n      console.log(\"Form is valid\");\n    }\n\n    return;\n  }\n\n  radioChangeHandler(e) {\n    this.SelectGender = e.target.value;\n    console.log(this.SelectGender);\n  }\n\n  ngOnInit() {\n    this.fetchAgentDepartments();\n  }\n\n};\nCreateAgentsDialogComponent = __decorate([Component({\n  selector: 'app-create-agents-dialog',\n  templateUrl: './create-agents-dialog.component.html',\n  styleUrls: ['./create-agents-dialog.component.scss']\n})], CreateAgentsDialogComponent);\nexport { CreateAgentsDialogComponent };\nexport function ConfirmedValidator(controlName, matchingControlName) {\n  return formGroup => {\n    const control = formGroup.controls[controlName];\n    const matchingControl = formGroup.controls[matchingControlName];\n\n    if (matchingControl.errors && !matchingControl.errors.confirmedValidator) {\n      return;\n    }\n\n    if (control.value !== matchingControl.value) {\n      matchingControl.setErrors({\n        confirmedValidator: true\n      });\n    } else {\n      matchingControl.setErrors(null);\n    }\n  };\n} // export enum Genders {\n//   Male = 'Male',\n//   Female = 'Female'\n// }","map":null,"metadata":{},"sourceType":"module"}